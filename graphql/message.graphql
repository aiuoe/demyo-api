type Message 
{
  id: ID!
  user_id: User! @belongsTo(relation: "user")
  chat_id: Chat! @belongsTo(relation: "chat")
  message: String!
  created_at: Date!
  updated_at: Date!
}

input messageInput
{
	id: ID 
	chat_id: ID! 
	message: String! @lower
}

extend type Mutation
{
  messageUpsert(input: messageInput! @spread): Message! @upsert @inject(context: "user.id", name: "user_id") @guard(with: "api")
  messageDelete(id: ID! @eq): Message @delete
}

