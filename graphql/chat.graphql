type Chat 
{
  id: ID!
  user_id: [User!]! @belongsToMany(relation: "users")
  name: String!
  created_at: Date!
  updated_at: Date!
  messages: [Message!]! @hasMany
}

input userConnect
{
  connect: [ID!]!
}

input chatUpsert
{
  id: ID
  users: userConnect!
  name: String! @lower
}

extend type Mutation
{
  chatUpsert(input: chatUpsert! @spread): Chat! @upsert
  chatDelete(id: ID! @eq): Chat @delete
}

